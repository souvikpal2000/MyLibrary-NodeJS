<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/headerLinks') %>
    <title>Books</title>
</head>
<body>
    <%- include('../partials/navbar') %>

    <div class="container mt-3">
        <div class="input-group mb-3 col-12 col-md-6 mx-auto">
            <span class="input-group-text" id="inputGroup-sizing-default"><i class="fas fa-search search"></i></span>
            <input type="text" id="myInput" onkeyup="findBook()" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="allBooks book-grid book-grid-large mt-3 mb-3">
            <% books.forEach(book => { %>
                <div class="mb-2 book">
                    <div class="bookImage">
                        <img src="<%= book.covPicPath%>" class="img-fluid d-block book-cover book-cover-large" alt="...">
                    </div>
                    <div class="bookDetails">
                        <h4 class="card-title"><%= book.bookTitle %></h4>
                        <div class="card-subtitle text-muted mb-2">
                            <%= book.createdAt.toLocaleDateString() %>
                        </div>
                        <div class="card-subtitle text-muted mb-2">
                            <b>(By <%= book.author %>)</b>
                        </div>
                        <div class="mx-auto">
                            <a href="/viewbook/<%= book.email %>/<%= book._id %>" class="btn btn-primary">View</a>
                            <a href="/comment/<%= book.email %>/<%= book._id %>" class="btn btn-info">Comment</a>
                        </div>                        
                    </div>
                </div> 
            <% }) %>              
        </div>
    </div>

    <%- include('../partials/footer') %>
</body>
<%- include('../partials/footerLinks') %>
</html>